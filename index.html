<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hotwheels — Arcade Pro</title>

  <!-- Google Font (arcade feel) -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- INTRO cinematic -->
  <div id="intro" class="overlay center">
    <div class="intro-card">
      <div class="logo"> 
        <h1>¡Feliz día Hotwheels!</h1>
      </div>
      <p class="subtitle">¿Quieres continuar para competir?</p>

      <div class="intro-actions">
        <button id="introYes" class="btn primary">✅ Sí, continuar</button>
        <button id="introNo" class="btn ghost">❌ No, gracias</button>
      </div>

      <small class="hint">Si pulsas NO, la pantalla quedará inactiva hasta que confirmes.</small>
    </div>
  </div>

  <!-- LEGO-style car smash (hidden, animated by JS) -->
  <div id="legoWrap" class="lego-wrap" aria-hidden="true"></div>

  <!-- MAIN MENU overlay (after intro smash) -->
  <div id="mainMenu" class="overlay center hidden">
    <div class="menu-panel">
      <div class="menu-header">
        <h2>Menú Principal</h2>
        <p class="small">Selecciona acción</p>
      </div>

      <div class="menu-grid">
        <div id="menu_play" class="card actionable">🏎️ <span>Jugar</span></div>
        <div id="menu_select" class="card actionable">🚗 <span>Seleccionar coche</span></div>
        <div id="menu_records" class="card actionable">🏆 <span>Récords</span></div>
        <div id="menu_rules" class="card actionable">📜 <span>Reglas</span></div>
      </div>

      <div class="menu-footer">
        <button id="menuClose" class="btn ghost">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- SELECT CAR overlay (carousel) -->
  <div id="selectOverlay" class="overlay center hidden">
    <div class="select-panel">
      <h3>Selecciona tu coche de lujo</h3>
      <div id="carousel" class="carousel"></div>
      <div class="select-actions">
        <button id="selectPlay" class="btn primary">🚀 ¡Jugar ya!</button>
        <button id="closeSelect" class="btn ghost">Volver</button>
      </div>
    </div>
  </div>

  <!-- RECORDS overlay -->
  <div id="recordsOverlay" class="overlay center hidden">
    <div class="box">
      <h3>Récords</h3>
      <ol id="recordsList" class="records-list"></ol>
      <div style="margin-top:12px"><button id="closeRecords" class="btn ghost">Cerrar</button></div>
    </div>
  </div>

  <!-- COUNTDOWN overlay -->
  <div id="countdown" class="overlay center hidden">
    <div class="count-box">
      <div id="countNum" class="count-num">3</div>
      <div class="small">Preparados...</div>
    </div>
  </div>

  <!-- FINISH overlay -->
  <div id="finishOverlay" class="overlay center hidden">
    <div class="finish-panel">
      <h2 id="finishTitle">🏆 ¡Felicidades!</h2>
      <p id="finishText">Feliz día Hotwheels, campeón</p>
      <div style="margin-top:12px">
        <button id="finishReplay" class="btn primary">Jugar otra vez</button>
        <button id="finishMenu" class="btn ghost">Volver al menú</button>
      </div>
    </div>
  </div>

  <!-- GAME AREA (visible below overlays) -->
  <main class="game-area">
    <div class="topbar">
      <div class="brand">Hotwheels — Arcade Pro</div>
      <div class="controls">
        <button id="muteBtn" class="btn ghost">🔊</button>
      </div>
    </div>

    <div id="canvasWrap" class="canvas-wrap">
      <canvas id="gameCanvas" width="1200" height="650"></canvas>
      <!-- mobile on-screen controls -->
      <div class="touch-controls">
        <button id="touchLeft" class="touch-btn">◀</button>
        <button id="touchRight" class="touch-btn">▶</button>
      </div>
    </div>

    <div class="hud">
      <div id="posInfo" class="hud-item">Posición: -</div>
      <div id="lapInfo" class="hud-item">Distancia: 0%</div>
      <div id="speedInfo" class="hud-item">Vel: 0</div>
    </div>

    <footer class="small muted">Controles: Flechas ← → | En móvil toca el lado izquierdo/derecho</footer>
  </main>

  <!-- Audio assets (royalty-free placeholders). These are used by JS AudioManager. -->
  <!-- Replace with local /assets/sounds/*.ogg files when you move to repo. -->
  <audio id="aIntro" src="https://assets.mixkit.co/sfx/preview/mixkit-epic-cinematic-start-2752.mp3"></audio>
  <audio id="aBeep" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="aShot" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="aCrash" src="https://actions.google.com/sounds/v1/impacts/crash.ogg"></audio>
  <audio id="aRace" loop src="https://assets.mixkit.co/music/preview/mixkit-arcade-retro-game-2133.mp3"></audio>
  <audio id="aEngA" loop src="https://actions.google.com/sounds/v1/transportation/car_engine.ogg"></audio>
  <audio id="aEngB" loop src="https://actions.google.com/sounds/v1/transportation/sports_car_accelerating.ogg"></audio>
  <audio id="aEngC" loop src="https://actions.google.com/sounds/v1/transportation/car_accelerate.ogg"></audio>
  <audio id="aWin" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>

  <!-- Main JS (keep deferred so DOM is ready) -->
  <script defer src="js/game.js"></script>
</body>
</html>
