<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hotwheels — Arcade Pro</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- INTRO -->
  <div id="screen-intro" class="screen active">
    <div class="card intro-card">
      <h1 class="title">¡Feliz día Hotwheels!</h1>
      <p class="subtitle">¿Quieres continuar para competir?</p>
      <div class="intro-actions">
        <button id="btn-yes" class="btn primary">✅ Sí, continuar</button>
        <button id="btn-no" class="btn ghost">❌ No, gracias</button>
      </div>
      <small class="hint">La pantalla permanecerá inactiva hasta que pulses Sí.</small>
    </div>
  </div>

  <!-- LEGO / cinematic animation holder -->
  <div id="lego-wrap" class="overlay hidden" aria-hidden="true">
    <div id="lego-assembly" aria-hidden="true"></div>
  </div>

  <!-- MAIN MENU -->
  <div id="screen-menu" class="screen hidden">
    <div class="card menu-card">
      <div class="menu-header">
        <h2>Menú Principal</h2>
        <div class="menu-sub">Selecciona una opción</div>
      </div>
      <div class="menu-grid">
        <button id="menu_play" class="menu-btn">🎮 Jugar</button>
        <button id="menu_select" class="menu-btn">🚗 Seleccionar coche</button>
        <button id="menu_records" class="menu-btn">🏆 Récords</button>
        <button id="menu_config" class="menu-btn">⚙️ Config</button>
        <button id="menu_demo" class="menu-btn">🎬 Demo</button>
        <button id="menu_rules" class="menu-btn">📜 Reglas</button>
      </div>
    </div>
  </div>

  <!-- SELECT CAR -->
  <div id="screen-select" class="screen hidden">
    <div class="card select-card">
      <h2>Selecciona tu coche</h2>
      <div class="carousel-wrap">
        <button id="carPrev" class="arrow">◀</button>
        <div id="carousel" class="carousel"></div>
        <button id="carNext" class="arrow">▶</button>
      </div>
      <div class="select-actions">
        <button id="btn-play-now" class="btn primary">🚀 Jugar ya</button>
        <button id="btn-select-back" class="btn ghost">Volver</button>
      </div>
    </div>
  </div>

  <!-- RECORDS -->
  <div id="screen-records" class="screen hidden">
    <div class="card small-card">
      <h3>Récords</h3>
      <ol id="recordsList" class="records-list"></ol>
      <div class="row">
        <button id="clearRecords" class="btn ghost">Borrar</button>
        <button id="closeRecords" class="btn primary">Volver</button>
      </div>
    </div>
  </div>

  <!-- CONFIG -->
  <div id="screen-config" class="screen hidden">
    <div class="card small-card">
      <h3>Configuración</h3>
      <div class="row">
        <label><input id="cfgMusic" type="checkbox"> Música</label>
        <label><input id="cfgSfx" type="checkbox"> Efectos</label>
      </div>
      <div class="row">
        <label>Volumen <input id="cfgVolume" type="range" min="0" max="1" step="0.01"></label>
      </div>
      <div class="row">
        <button id="closeConfig" class="btn primary">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- DEMO -->
  <div id="screen-demo" class="screen hidden">
    <div class="card small-card">
      <h3>Demo / Cómo jugar</h3>
      <ol class="muted">
        <li>Selecciona un coche.</li>
        <li>Pulsa Jugar ya.</li>
        <li>Usa las flechas ← → o botones táctiles para moverte.</li>
        <li>Evita obstáculos y cruza la meta.</li>
      </ol>
      <div class="row">
        <button id="btn-demo-start" class="btn primary">Reproducir demo</button>
        <button id="btn-demo-close" class="btn ghost">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- RULES -->
  <div id="screen-rules" class="screen hidden">
    <div class="card small-card">
      <h3>Reglas</h3>
      <p class="muted">Evita obstáculos. Cruza la meta en primer lugar para ganar y avanzar de nivel.</p>
      <div class="row">
        <button id="closeRules" class="btn primary">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- COUNTDOWN overlay -->
  <div id="overlay-count" class="overlay hidden">
    <div class="count-box"><div id="countNum" class="count-num">3</div><div class="muted">Preparados...</div></div>
  </div>

  <!-- FINISH overlay -->
  <div id="overlay-finish" class="overlay hidden">
    <div class="finish-box">
      <h2 id="finishTitle">¡Carrera terminada!</h2>
      <p id="finishText" class="muted">Feliz día Hotwheels</p>
      <div class="row">
        <button id="finishReplay" class="btn primary">Jugar otra vez</button>
        <button id="finishMenu" class="btn ghost">Volver al menú</button>
      </div>
    </div>
  </div>

  <!-- GAME area (canvas + HUD + mobile controls) -->
  <main id="game-area" class="game-area hidden">
    <div class="topbar">
      <div class="brand">Hotwheels — Arcade Pro</div>
      <div class="top-controls">
        <div id="levelLabel" class="muted">Nivel 1</div>
        <button id="openMenu" class="btn small ghost">☰</button>
      </div>
    </div>

    <div class="canvas-wrap">
      <canvas id="gameCanvas" width="1200" height="680"></canvas>

      <!-- mobile touches -->
      <div class="touch-row">
        <button id="touch-left" class="touch-btn">◀</button>
        <button id="touch-right" class="touch-btn">▶</button>
      </div>
    </div>

    <div class="hud">
      <div id="posInfo">Posición: -</div>
      <div id="timeInfo">Tiempo: 0.00s</div>
      <div id="distInfo">Distancia: 0%</div>
    </div>
  </main>

  <!-- Audio (placeholders royalty-free) -->
  <audio id="audio_intro" src="https://assets.mixkit.co/sfx/preview/mixkit-epic-cinematic-start-2752.mp3"></audio>
  <audio id="audio_beep" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="audio_shot" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="audio_crash" src="https://actions.google.com/sounds/v1/impacts/crash.ogg"></audio>
  <audio id="audio_race" loop src="https://assets.mixkit.co/music/preview/mixkit-arcade-retro-game-2133.mp3"></audio>
  <audio id="audio_eng_a" loop src="https://actions.google.com/sounds/v1/transportation/car_engine.ogg"></audio>
  <audio id="audio_eng_b" loop src="https://actions.google.com/sounds/v1/transportation/sports_car_accelerating.ogg"></audio>
  <audio id="audio_eng_c" loop src="https://actions.google.com/sounds/v1/transportation/car_accelerate.ogg"></audio>
  <audio id="audio_win" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>

  <script src="game.js"></script>
</body>
</html>
